
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Churn Predictor v2</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">Churn Predictor <span class="pill">v2</span></div>
    <div class="spacer"></div>
    <button id="logoutBtn" class="ghost">Logout</button>
  </header>

  <main class="container">
    <section id="loginCard" class="card">
      <h2>Login</h2>
      <p class="muted">Demo credentials:</p>
      <pre class="muted">username: <b>admin</b>   password: <b>admin123</b></pre>
      <form id="loginForm">
        <div class="grid-2">
          <label>Username<input name="username" required value="admin"/></label>
          <label>Password<input name="password" type="password" required value="admin123"/></label>
        </div>
        <button type="submit">Sign In</button>
        <p id="loginError" class="error hidden">Invalid credentials</p>
      </form>
    </section>

    <section id="appCard" class="card hidden">
      <h2>Customer Churn Prediction & Analysis</h2>
      <p class="muted">Enter customer details or upload a CSV.</p>

      <div class="grid-2">
        <div>
          <h3>Single Customer</h3>
          <form id="singleForm" class="compact">
            <div class="grid-3">
              <label>gender<select name="gender"><option>Female</option><option>Male</option></select></label>
              <label>SeniorCitizen<select name="SeniorCitizen"><option value="0">0</option><option value="1">1</option></select></label>
              <label>Partner<select name="Partner"><option>No</option><option>Yes</option></select></label>
              <label>Dependents<select name="Dependents"><option>No</option><option>Yes</option></select></label>
              <label>tenure<input type="number" name="tenure" min="0" value="1"/></label>
              <label>PhoneService<select name="PhoneService"><option>Yes</option><option>No</option></select></label>
              <label>MultipleLines<select name="MultipleLines"><option>No</option><option>Yes</option></select></label>
              <label>InternetService<select name="InternetService"><option>Fiber optic</option><option>DSL</option><option>None</option></select></label>
              <label>OnlineSecurity<select name="OnlineSecurity"><option>No</option><option>Yes</option></select></label>
              <label>OnlineBackup<select name="OnlineBackup"><option>No</option><option>Yes</option></select></label>
              <label>DeviceProtection<select name="DeviceProtection"><option>No</option><option>Yes</option></select></label>
              <label>TechSupport<select name="TechSupport"><option>No</option><option>Yes</option></select></label>
              <label>StreamingTV<select name="StreamingTV"><option>Yes</option><option>No</option></select></label>
              <label>StreamingMovies<select name="StreamingMovies"><option>No</option><option>Yes</option></select></label>
              <label>Contract<select name="Contract"><option>Month-to-month</option><option>One year</option><option>Two year</option></select></label>
              <label>PaperlessBilling<select name="PaperlessBilling"><option>Yes</option><option>No</option></select></label>
              <label>PaymentMethod<select name="PaymentMethod">
                <option>Electronic check</option><option>Mailed check</option>
                <option>Bank transfer (automatic)</option><option>Credit card (automatic)</option>
              </select></label>
              <label>MonthlyCharges<input type="number" step="0.01" name="MonthlyCharges" value="80"/></label>
              <label>TotalCharges<input type="number" step="0.01" name="TotalCharges" value="80"/></label>
            </div>
            <button type="submit">Predict</button>
          </form>
          <div id="singleResult" class="result hidden">
            <div class="stat"><div class="stat-label">Churn Probability</div><div class="stat-value" id="prob"></div><div class="badge" id="risk"></div></div>
            <h4>Top Reasons</h4>
            <ul id="reasons"></ul>
            <div id="reasonBars" class="bars"></div>
            <h4>Recommended Actions</h4>
            <ul id="actions"></ul>
          </div>
        </div>
        <div>
          <h3>Batch Prediction</h3>
          <p class="muted">Upload the Telco dataset CSV or a file with the same columns.</p>
          <input type="file" id="csvFile" accept=".csv"/>
          <button id="uploadBtn">Upload & Predict</button>
          <div id="batchExamples" class="result hidden"></div>
          <div id="tableWrapper" class="table-wrapper hidden"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div>Â© Churn Predictor v2</div>
    <div><a href="#" id="insightsBtn">View Global Insights</a></div>
  </footer>

  <dialog id="insightsModal">
    <h3>Top Global Features</h3>
    <div id="insightsList" class="list"></div>
    <form method="dialog"><button>Close</button></form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
